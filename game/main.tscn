[gd_scene load_steps=12 format=3 uid="uid://c3wqpbxyoulkc"]

[ext_resource type="PackedScene" uid="uid://x08hygjyfbnw" path="res://game/level/scenery.tscn" id="1_7xc7l"]
[ext_resource type="PackedScene" uid="uid://cyun80gtg1bbh" path="res://game/firework/firework.tscn" id="1_qy2lk"]
[ext_resource type="Script" path="res://game/main.gd" id="1_wdnfr"]
[ext_resource type="PackedScene" uid="uid://bejtqbpgoscpm" path="res://game/smoke/smoke-overlay.tscn" id="3_o6h5x"]
[ext_resource type="PackedScene" uid="uid://7rg477b2rjyk" path="res://game/match/match.tscn" id="3_xksgu"]
[ext_resource type="PackedScene" uid="uid://bdql8d4bdoouq" path="res://game/ui/hud.tscn" id="4_i1fi1"]
[ext_resource type="Shader" path="res://game/materials/shaders/smoke-overlay.gdshader" id="4_w4rjk"]

[sub_resource type="Environment" id="Environment_flpaf"]
background_mode = 3
background_canvas_max_layer = 30
glow_enabled = true
glow_bloom = 0.2
glow_hdr_threshold = 0.6

[sub_resource type="FastNoiseLite" id="FastNoiseLite_g1u30"]
noise_type = 3
frequency = 0.0135
domain_warp_enabled = true
domain_warp_type = 1

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_qg00n"]
seamless = true
noise = SubResource("FastNoiseLite_g1u30")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_odnij"]
resource_local_to_scene = true
shader = ExtResource("4_w4rjk")
shader_parameter/density = 0.174
shader_parameter/speed = Vector2(0.01, 0.02)
shader_parameter/offset = Vector2(0.02, 0.01)
shader_parameter/noise_texture = SubResource("NoiseTexture2D_qg00n")

[node name="Main" type="Node2D"]
script = ExtResource("1_wdnfr")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_flpaf")

[node name="Terrain" type="CanvasLayer" parent="."]

[node name="Scenery" parent="Terrain" instance=ExtResource("1_7xc7l")]

[node name="Smoke" type="CanvasLayer" parent="." groups=["smoke-layer"]]

[node name="SmokeOverlay" parent="Smoke" instance=ExtResource("3_o6h5x")]

[node name="Explosions" type="CanvasLayer" parent="." groups=["explosions-layer"]]

[node name="Control" parent="Explosions" instance=ExtResource("3_o6h5x")]
material = SubResource("ShaderMaterial_odnij")

[node name="Objects" type="CanvasLayer" parent="."]

[node name="Firework" parent="Objects" instance=ExtResource("1_qy2lk")]
position = Vector2(521, 684)

[node name="Firework2" parent="Objects" instance=ExtResource("1_qy2lk")]
position = Vector2(682, 685)
element_a = 2

[node name="Firework3" parent="Objects" instance=ExtResource("1_qy2lk")]
position = Vector2(800, 688)
element_a = 3

[node name="Firework4" parent="Objects" instance=ExtResource("1_qy2lk")]
position = Vector2(320, 681)
element_a = 4

[node name="Firework5" parent="Objects" instance=ExtResource("1_qy2lk")]
position = Vector2(152, 686)
element_a = 5

[node name="Firework6" parent="Objects" instance=ExtResource("1_qy2lk")]
position = Vector2(1029, 678)
element_a = 6

[node name="Firework7" parent="Objects" instance=ExtResource("1_qy2lk")]
position = Vector2(1273, 687)
element_a = 4
element_b = 2

[node name="Interaction" type="CanvasLayer" parent="."]

[node name="Match" parent="Interaction" instance=ExtResource("3_xksgu")]

[node name="Hud" parent="." instance=ExtResource("4_i1fi1")]
